(()=>{var t={};t.id=636,t.ids=[636],t.modules={2015:t=>{"use strict";t.exports=require("react")},6955:(t,r,e)=>{"use strict";e.d(r,{f:()=>o,p:()=>u});var a=e(8732),s=e(2015);let n=(0,s.createContext)(),u=()=>{let t=(0,s.useContext)(n);if(!t)throw Error("useRestaurant must be used within a RestaurantProvider");return t},o=({children:t})=>{let[r,e]=(0,s.useState)([]),[u,o]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),f=process.env.REACT_APP_API_URL||"/api",h=(0,s.useCallback)(async()=>{try{l(!0);let t=await fetch(`${f}/restaurants`);if(t.ok){let r=await t.json();e(r),r.length>0&&!u&&o(r[0])}else d("Failed to load restaurants")}catch(t){console.error("Error loading restaurants:",t),d("Failed to load restaurants")}finally{l(!1)}},[f,u]),w=async t=>{try{let r=await fetch(`${f}/restaurants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let t=await r.json();return e(r=>[...r,t]),{success:!0,restaurant:t}}{let t=await r.json();return{success:!1,error:t.error}}}catch(t){return console.error("Error creating restaurant:",t),{success:!1,error:"Failed to create restaurant"}}},j=async(t=null)=>{try{let r=t?`${f}/restaurant-stats?restaurant_id=${t}`:`${f}/restaurant-stats`,e=await fetch(r);if(e.ok)return await e.json();throw Error("Failed to load restaurant stats")}catch(t){return console.error("Error loading restaurant stats:",t),null}};return(0,s.useEffect)(()=>{h()},[h]),(0,a.jsx)(n.Provider,{value:{restaurants:r,selectedRestaurant:u,setSelectedRestaurant:o,loading:i,error:c,loadRestaurants:h,createRestaurant:w,getRestaurantStats:j},children:t})}},7522:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>n});var a=e(8732);e(8754);var s=e(6955);let n=function({Component:t,pageProps:r}){return(0,a.jsx)(s.f,{children:(0,a.jsx)(t,{...r})})}},8732:t=>{"use strict";t.exports=require("react/jsx-runtime")},8754:()=>{}};var r=require("../webpack-runtime.js");r.C(t);var e=r(r.s=7522);module.exports=e})();