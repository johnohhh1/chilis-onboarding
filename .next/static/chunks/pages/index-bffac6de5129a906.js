(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(7876),r=s(4232),l=s(395),d=s(710),n=s(6739),i=s(2211),o=s(7396),c=s(345),m=s(9812),x=s(5104),g=s(2671),p=s(3654),h=s(588),u=s(1111),b=s(2347),y=s(4464),f=s(2089),j=s(498),N=s(1988),v=s(778),w=s(822);let _=()=>{let{restaurants:e,selectedRestaurant:t,setSelectedRestaurant:s,loading:l,createRestaurant:d}=(0,v.p)(),[n,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)({name:"",store_number:"",address:"",manager_name:"",manager_email:"",phone:"",capacity:"",opening_hours:""}),h=e=>{s(e),o(!1)},u=async e=>{if(e.preventDefault(),!g.name||!g.store_number)return void alert("Restaurant name and store number are required");let t=await d(g);t.success?(m(!1),p({name:"",store_number:"",address:"",manager_name:"",manager_email:"",phone:"",capacity:"",opening_hours:""}),alert("Restaurant created successfully!")):alert(`Error: ${t.error}`)};return l?(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 rounded-lg",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading restaurants..."})]}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>o(!n),className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t?t.name:"Select Restaurant"}),(0,a.jsx)(w.A,{className:"h-4 w-4 text-gray-400"})]}),n&&(0,a.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:[e.map(e=>(0,a.jsxs)("button",{onClick:()=>h(e),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?.id===e.id?"bg-red-50 text-red-700":"text-gray-700"}`,children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Store #",e.store_number]})]},e.id)),(0,a.jsx)("div",{className:"border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:()=>m(!0),className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Add New Restaurant"})]})})]}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add New Restaurant"}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Restaurant Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:g.name,onChange:e=>p(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Chili's - Downtown"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Number *"}),(0,a.jsx)("input",{type:"text",required:!0,value:g.store_number,onChange:e=>p(t=>({...t,store_number:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"C00605"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,a.jsx)("input",{type:"text",value:g.address,onChange:e=>p(t=>({...t,address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"123 Main St, Downtown, TX 75001"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name"}),(0,a.jsx)("input",{type:"text",value:g.manager_name,onChange:e=>p(t=>({...t,manager_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"John Smith"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),(0,a.jsx)("input",{type:"email",value:g.manager_email,onChange:e=>p(t=>({...t,manager_email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"john.smith@chilis.com"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:g.phone,onChange:e=>p(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"(555) 123-4567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),(0,a.jsx)("input",{type:"number",value:g.capacity,onChange:e=>p(t=>({...t,capacity:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"150"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Hours"}),(0,a.jsx)("input",{type:"text",value:g.opening_hours,onChange:e=>p(t=>({...t,opening_hours:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"11:00 AM - 10:00 PM"})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Add Restaurant"}),(0,a.jsx)("button",{type:"button",onClick:()=>m(!1),className:"flex-1 bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})})]})};var S=s(9518);let C=()=>{let{restaurants:e,getRestaurantStats:t}=(0,v.p)(),[s,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null),g=(0,r.useCallback)(async()=>{try{c(!0);let e=await t();e&&l(e)}catch(e){console.error("Error loading restaurant stats:",e)}finally{c(!1)}},[t]);(0,r.useEffect)(()=>{g()},[g]);let p=s.reduce((e,t)=>({total_members:e.total_members+(t.total_members||0),active_members:e.active_members+(t.active_members||0),completed_members:e.completed_members+(t.completed_members||0),pending_members:e.pending_members+(t.pending_members||0)}),{total_members:0,active_members:0,completed_members:0,pending_members:0});return n?(0,a.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading restaurant statistics..."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Multi-Restaurant Overview"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Managing ",e.length," restaurant",1!==e.length?"s":""]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,a.jsx)(i.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"font-semibold",children:"Chili's Network"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.total_members})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(j.A,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.completed_members})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(d.A,{className:"h-6 w-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.pending_members})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(S.A,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.active_members})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Restaurant Performance"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("div",{className:"px-6 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>x(e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.restaurant_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Store #",e.store_number]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Active"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.active_members||0})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Completed"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-green-600",children:e.completed_members||0})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Pending"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-yellow-600",children:e.pending_members||0})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.total_members||0})]})]})]}),e.total_members>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Completion Rate"}),(0,a.jsxs)("span",{children:[Math.round((e.completed_members||0)/e.total_members*100),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${(e.completed_members||0)/e.total_members*100}%`}})})]})]},e.restaurant_id))})]}),m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[m.restaurant_name," Details"]}),(0,a.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:"‚úï"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Store Number"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:m.store_number})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Members"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:m.total_members||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active Members"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:m.active_members||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:m.completed_members||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,a.jsx)("p",{className:"text-sm text-yellow-600",children:m.pending_members||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:m.total_members>0?`${Math.round((m.completed_members||0)/m.total_members*100)}%`:"0%"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>x(null),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Close"})})]})})]})};var k=s(9239),D=s(7897),A=s(2341);let T=e=>{let{isOpen:t,onLogin:s,onClose:l}=e,[d,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[u,b]=(0,r.useState)(!1),y=async e=>{e.preventDefault(),b(!0),h("");try{let e=await fetch("/api/onboarding-data",{method:"POST",headers:{"Content-Type":"application/json","X-Username":d,"X-Password":o},body:JSON.stringify({teamMembers:[],test:!0})});if(e.ok){let t=await e.json();localStorage.setItem("chilisTeamAuthenticated","true"),localStorage.setItem("chilisUsername",d),localStorage.setItem("chilisPassword",o),localStorage.setItem("chilisUserAccess",t.access||"restaurant"),s({username:d,password:o,access:t.access})}else h("Incorrect username or password. Please try again.")}catch(e){h("Connection error. Please try again.")}finally{b(!1)}},f=e=>{"Enter"===e.key&&y(e)};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(k.A,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Chili's Team Access"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Enter your credentials to continue"})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",id:"username",value:d,onChange:e=>i(e.target.value),onKeyPress:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 pl-12",placeholder:"Enter username",autoFocus:!0}),(0,a.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:m?"text":"password",id:"password",value:o,onChange:e=>c(e.target.value),onKeyPress:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 pr-12",placeholder:"Enter password"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?(0,a.jsx)(D.A,{className:"w-5 h-5"}):(0,a.jsx)(A.A,{className:"w-5 h-5"})})]})]}),p&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:p})]}),(0,a.jsx)("button",{type:"submit",disabled:!d||!o||u,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Verifying...":"Access App"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})}),(0,a.jsx)("div",{className:"mt-4 text-center text-xs text-gray-500",children:(0,a.jsx)("p",{children:"Need access? Contact your team manager"})})]})}):null};var M=s(5364);let $=()=>{let[e,t]=(0,r.useState)([]),[s,w]=(0,r.useState)(null),[S,k]=(0,r.useState)(!1),[D,A]=(0,r.useState)("dashboard"),[$,O]=(0,r.useState)(!1),[P,I]=(0,r.useState)(null),[E,R]=(0,r.useState)({name:"",startDate:"",startTime:"",phone:"",tmId:"",position:"",restaurantEmail:""}),[z,L]=(0,r.useState)({}),[F,U]=(0,r.useState)(!1),[H,V]=(0,r.useState)(!1),[q,J]=(0,r.useState)({}),[B,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e="true"===localStorage.getItem("chilisTeamAuthenticated"),t=localStorage.getItem("chilisUsername"),s=localStorage.getItem("chilisPassword"),a=localStorage.getItem("chilisUserAccess");e&&t&&s?(U(!0),J({username:t,password:s}),W({username:t,access:a})):V(!0)},[]);let X=[{id:"call_offer",step:1,text:"Call candidate, extend offer and welcome to team",category:"setup"},{id:"start_date",step:1,text:"Provide start date and First Day overview",category:"setup"},{id:"zoom_app",step:1,text:"Ask TM to download Zoom Workplace app",category:"setup"},{id:"krow_hire",step:1,text:'Change candidate status to "Hire" in KROW',category:"setup"},{id:"new_hire_app",step:1,text:"Complete New Hire Application",category:"setup"},{id:"oracle_offer",step:1,text:"Login to Oracle to create offer and hire",category:"setup"},{id:"person_number",step:1,text:"Obtain and provide TM Person Number",category:"setup"},{id:"onboarding_journey",step:1,text:"Direct TM to complete Onboarding Journey",category:"setup"},{id:"schedule_vfdo",step:1,text:"Schedule VFDO with new TM",category:"setup"},{id:"i9_documents",step:1,text:"Remind TM to bring I-9 documents",category:"setup"},{id:"headphones_phone",step:1,text:"Ask TM to bring headphones and phone",category:"setup"},{id:"dress_code",step:1,text:"Discuss dress code and slip resistant shoes",category:"setup"},{id:"verify_onboarding",step:2,text:"Verify TM completed Onboarding",category:"pre_first_day"},{id:"assign_job_code",step:2,text:"Assign correct job codes and pay rate in Oracle",category:"pre_first_day"},{id:"vfd_guide",step:3,text:"Ensure VFD Par Guide is ready",category:"materials"},{id:"first_day_pin",step:3,text:"Ensure First Day Pin is ready",category:"materials"},{id:"hs_welcome_sheet",step:3,text:"Print HotSchedules Welcome Sheet",category:"materials"},{id:"welcome_gift",step:3,text:"Assemble Welcome Gift",category:"materials"},{id:"certified_trainer",step:3,text:"Assign Certified Trainer and print Training Schedule",category:"materials"},{id:"paycard",step:3,text:"Gather unactivated Paycard if needed",category:"materials"},{id:"clock_in_demo",step:4,text:"Demonstrate how to clock-in",category:"first_day"},{id:"welcome_gift_give",step:4,text:"Welcome TM with gift",category:"first_day"},{id:"complete_i9",step:4,text:"Complete I-9 verification",category:"first_day"},{id:"introduce_team",step:4,text:"Introduce new TM to ChiliHead family",category:"first_day"},{id:"tm_file_folder",step:4,text:"Complete TM file folder",category:"first_day"},{id:"brinker_nation",step:4,text:"Set up Brinker Nation login",category:"first_day"},{id:"activate_paycard",step:4,text:"Activate Paycard in Oracle",category:"first_day"},{id:"oracle_fusion_app",step:4,text:"Download Oracle Fusion app and walkthrough",category:"first_day"},{id:"hs_availability",step:4,text:"Fill out availability in HotSchedules",category:"first_day"},{id:"trainer_intro",step:4,text:"Introduce to Certified Trainer",category:"first_day"},{id:"learning_path",step:4,text:"Ensure TM can navigate Learning Path",category:"first_day"},{id:"zoom_meeting_id",step:4,text:"Provide Virtual Meeting ID for Zoom",category:"first_day"},{id:"vfdo_setup",step:4,text:"Set up for VFDO (90 minutes)",category:"first_day"},{id:"play_restaurant",step:4,text:'Verify "Play Restaurant" activity completed',category:"first_day"},{id:"scavenger_hunt",step:4,text:'Verify "Scavenger Hunt" completed',category:"first_day"},{id:"connection_board",step:4,text:'Hang "New to the Crew" on Connection Board',category:"first_day"},{id:"first_day_modules",step:4,text:"Ensure all First Day modules complete",category:"first_day"},{id:"enable_gratshare",step:5,text:"Enable TM in Gratshare after 72 hours",category:"post_first_day"},{id:"learning_path_complete",step:5,text:"Ensure Learning Path complete upon graduation",category:"post_first_day"},{id:"job_webinar",step:5,text:"Schedule job-specific webinar",category:"post_first_day"},{id:"thirty_day_survey",step:5,text:"Complete 30-Day Survey",category:"post_first_day"}],G=["TM shirts (various sizes for FOH & HOH)","Hats (for HOH)","Server aprons","Blank TM file folders (DSI)","Training materials (ex: VFD Par Guide)","Pin Program inventory","Welcome gift / swag","Pay cards","Manager / TM swipe cards","iPad cases / straps"],K=M.env.REACT_APP_API_URL||"/api",{selectedRestaurant:Z}=(0,v.p)(),Y=(0,r.useCallback)(async()=>{try{let t=new Date,s={teamMembers:e,lastSaved:t.toISOString(),restaurant_id:Z?.id};(await fetch(`${K}/onboarding-data`,{method:"POST",headers:{"Content-Type":"application/json","X-Username":q.username,"X-Password":q.password},body:JSON.stringify(s)})).ok?(w(t),k(!1),console.log("Data saved to server successfully")):(console.error("Failed to save data to server"),localStorage.setItem("chilisOnboardingMembers",JSON.stringify(e)),localStorage.setItem("chilisOnboardingLastSaved",t.toISOString()),w(t),k(!1))}catch(s){console.error("Error saving data:",s);let t=new Date;localStorage.setItem("chilisOnboardingMembers",JSON.stringify(e)),localStorage.setItem("chilisOnboardingLastSaved",t.toISOString()),w(t),k(!1)}},[e,K,Z?.id,q.username,q.password]);(0,r.useEffect)(()=>{let e=async()=>{try{let e=Z?`${K}/onboarding-data?restaurant_id=${Z.id}`:`${K}/onboarding-data`,s=await fetch(e);if(s.ok){let e=await s.json();t(e.teamMembers||[]),e.lastSaved&&w(new Date(e.lastSaved))}else{console.error("Failed to load data from API");let e=localStorage.getItem("chilisOnboardingMembers"),s=localStorage.getItem("chilisOnboardingLastSaved");e&&t(JSON.parse(e)),s&&w(new Date(s))}}catch(a){console.error("Error loading data:",a);let e=localStorage.getItem("chilisOnboardingMembers"),s=localStorage.getItem("chilisOnboardingLastSaved");e&&t(JSON.parse(e)),s&&w(new Date(s))}};Z&&e()},[K,Z]),(0,r.useEffect)(()=>{if(S){let e=setTimeout(()=>{Y()},2e3);return()=>clearTimeout(e)}},[S,Y]);let Q=()=>{let e={};return E.name.trim()||(e.name="Name is required"),E.startDate||(e.startDate="Start date is required"),E.startTime||(e.startTime="Start time is required"),E.phone.trim()||(e.phone="Phone number is required"),E.position.trim()||(e.position="Position is required"),L(e),0===Object.keys(e).length},ee=(e,s,a)=>{t(t=>t.map(t=>t.id===e?{...t,checklist:{...t.checklist,[s]:a},lastModified:new Date().toISOString()}:t))},et=(e,s,a)=>{t(t=>t.map(t=>t.id===e?{...t,[s]:a,lastModified:new Date().toISOString()}:t))},es=e=>{t(t=>t.filter(t=>t.id!==e))},ea=e=>{let t=Object.values(e.checklist).filter(Boolean).length,s=X.length;return{completed:t,total:s,percentage:Math.round(t/s*100)}},er=e=>X.filter(t=>!e.checklist[t.id]),el=()=>{let t=e.length,s=e.filter(e=>100===ea(e).percentage).length,a=e.filter(e=>{let t=ea(e);return t.percentage>0&&t.percentage<100}).length;return{total:t,completed:s,inProgress:a,notStarted:e.filter(e=>0===ea(e).percentage).length,overdue:e.filter(e=>{let t=new Date(e.startDate);return Math.floor((new Date-t)/864e5)>7&&ea(e).percentage<100}).length}},ed=()=>{let t=[];return e.forEach(e=>{let s=er(e),a=new Date(e.startDate),r=Math.floor((new Date-a)/864e5);r>3&&s.length>0&&t.push({member:e,daysOverdue:r,remainingTasks:s.length})}),t.sort((e,t)=>t.daysOverdue-e.daysOverdue)},en=e=>{let t=er(e),s=ea(e),a=`Chili's Team Member Onboarding Report - ${e.name}

`;return a+=`Team Member Information:
Name: ${e.name}
Start Date: ${e.startDate} at ${e.startTime}
Phone: ${e.phone}
TM ID: ${e.tmId||"Not assigned yet"}
Position: ${e.position}

Progress Summary:
Completed Tasks: ${s.completed} of ${s.total} (${s.percentage}%)
Remaining Tasks: ${t.length}

`,t.length>0?(a+=`Tasks Still Needed:
`,t.forEach(e=>{a+=`‚Ä¢ Step ${e.step}: ${e.text}
`})):a+=`üéâ All onboarding tasks completed!
`,a+=`

Supply Checklist:
`,G.forEach(e=>{a+=`‚òê ${e}
`}),encodeURIComponent(a+=`

Report generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`)},ei=e=>{let t=encodeURIComponent(`Onboarding Report - ${e.name} - ${new Date().toLocaleDateString()}`),s=en(e),a=`mailto:${e.restaurantEmail||""}?subject=${t}&body=${s}`;window.location.href=a},eo=e=>{let t=er(e),s=ea(e),a=`
      <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #d32f2f; margin: 0;">Chili's Team Member Onboarding Report</h1>
          <p style="margin: 5px 0; color: #666;">Generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
        </div>
        
        <div style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
          <h2 style="margin-top: 0;">Team Member Information</h2>
          <p><strong>Name:</strong> ${e.name}</p>
          <p><strong>Start Date:</strong> ${e.startDate} at ${e.startTime}</p>
          <p><strong>Phone:</strong> ${e.phone}</p>
          <p><strong>TM ID:</strong> ${e.tmId||"Not assigned yet"}</p>
          <p><strong>Position:</strong> ${e.position}</p>
          <p><strong>Last Modified:</strong> ${new Date(e.lastModified).toLocaleString()}</p>
        </div>
        
        <div style="background: #e8f5e8; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
          <h2 style="margin-top: 0;">Progress Summary</h2>
          <p><strong>Completed Tasks:</strong> ${s.completed} of ${s.total} (${s.percentage}%)</p>
          <p><strong>Remaining Tasks:</strong> ${t.length}</p>
        </div>
        
        ${t.length>0?`
          <div style="margin-bottom: 30px;">
            <h2>Remaining Tasks</h2>
            <div style="background: #fff3cd; padding: 20px; border-radius: 8px;">
              ${t.map(e=>`
                <div style="margin-bottom: 15px; padding: 10px; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                  <strong>Step ${e.step}:</strong> ${e.text}
                </div>
              `).join("")}
            </div>
          </div>
        `:`
          <div style="background: #d4edda; padding: 20px; border-radius: 8px; text-align: center;">
            <h2 style="color: #155724; margin-top: 0;">üéâ All Tasks Completed!</h2>
            <p style="color: #155724;">This team member has successfully completed all onboarding steps.</p>
          </div>
        `}
        
        <div style="margin-top: 40px; border-top: 2px solid #ddd; padding-top: 20px;">
          <h2>Supply Checklist</h2>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
            ${G.map(e=>`
              <div style="margin-bottom: 8px; padding: 5px 0; border-bottom: 1px dotted #ccc;">
                ‚òê ${e}
              </div>
            `).join("")}
          </div>
        </div>
      </div>
    `,r=window.open("","","height=800,width=800");r.document.write(`
      <html>
        <head>
          <title>Onboarding Report - ${e.name}</title>
        </head>
        <body>
          ${a}
        </body>
      </html>
    `),r.document.close(),r.print()},ec={1:"bg-blue-100 border-blue-300 text-blue-800",2:"bg-green-100 border-green-300 text-green-800",3:"bg-purple-100 border-purple-300 text-purple-800",4:"bg-red-100 border-red-300 text-red-800",5:"bg-orange-100 border-orange-300 text-orange-800"};return F?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-red-600 mb-2 md:mb-0",children:"Chili's Team Member Onboarding Tracker"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(_,{}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("chilisTeamAuthenticated"),localStorage.removeItem("chilisUsername"),localStorage.removeItem("chilisPassword"),localStorage.removeItem("chilisUserAccess"),U(!1),J({}),W(null),V(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:[(0,a.jsx)(l.A,{size:16}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.A,{size:16}),s?`Last saved: ${s.toLocaleString()}`:"Not saved yet"]}),S&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-orange-600",children:[(0,a.jsx)(n.A,{size:16}),"Unsaved changes"]}),Z&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-blue-600",children:[(0,a.jsx)(i.A,{size:16}),Z.name]}),B&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,a.jsx)(o.A,{size:16}),B.username," (",B.access,")"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>A("dashboard"),className:`px-4 py-2 rounded-lg text-sm font-medium ${"dashboard"===D?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"\uD83D\uDCCA Dashboard"}),(0,a.jsx)("button",{onClick:()=>A("detail"),className:`px-4 py-2 rounded-lg text-sm font-medium ${"detail"===D?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"\uD83D\uDC65 Team Members"}),B?.access==="admin"&&(0,a.jsx)("button",{onClick:()=>A("multi-restaurant"),className:`px-4 py-2 rounded-lg text-sm font-medium ${"multi-restaurant"===D?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"\uD83C\uDFE2 Multi-Restaurant"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("button",{onClick:Y,className:`px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium ${S?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-300 text-gray-600"}`,children:[(0,a.jsx)(c.A,{size:16}),"Save"]}),(0,a.jsxs)("button",{onClick:()=>{let t=new Blob([JSON.stringify({teamMembers:e,exportDate:new Date().toISOString(),totalMembers:e.length,completedMembers:e.filter(e=>100===ea(e).percentage).length},null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`chilis-onboarding-data-${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(s)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(m.A,{size:16}),"Export"]}),(0,a.jsxs)("button",{onClick:()=>O(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(x.A,{size:16}),"Add Member"]})]})]})]}),$&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add New Team Member"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",placeholder:"Team Member Name *",value:E.name,onChange:e=>R({...E,name:e.target.value}),className:`w-full border rounded-lg px-3 py-2 ${z.name?"border-red-500":"border-gray-300"}`}),z.name&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:z.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"date",placeholder:"Start Date *",value:E.startDate,onChange:e=>R({...E,startDate:e.target.value}),className:`w-full border rounded-lg px-3 py-2 ${z.startDate?"border-red-500":"border-gray-300"}`}),z.startDate&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:z.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"time",placeholder:"Start Time *",value:E.startTime,onChange:e=>R({...E,startTime:e.target.value}),className:`w-full border rounded-lg px-3 py-2 ${z.startTime?"border-red-500":"border-gray-300"}`}),z.startTime&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:z.startTime})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"tel",placeholder:"Phone Number *",value:E.phone,onChange:e=>R({...E,phone:e.target.value}),className:`w-full border rounded-lg px-3 py-2 ${z.phone?"border-red-500":"border-gray-300"}`}),z.phone&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:z.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",placeholder:"Position *",value:E.position,onChange:e=>R({...E,position:e.target.value}),className:`w-full border rounded-lg px-3 py-2 ${z.position?"border-red-500":"border-gray-300"}`}),z.position&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:z.position})]}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",placeholder:"TM ID (if known)",value:E.tmId,onChange:e=>R({...E,tmId:e.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2"})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"email",placeholder:"Restaurant Email (for reports)",value:E.restaurantEmail,onChange:e=>R({...E,restaurantEmail:e.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2"})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"* Required fields"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{Q()&&(t([...e,{...E,id:Date.now().toString(),checklist:X.reduce((e,t)=>(e[t.id]=!1,e),{}),dateAdded:new Date().toISOString(),lastModified:new Date().toISOString()}]),R({name:"",startDate:"",startTime:"",phone:"",tmId:"",position:"",restaurantEmail:""}),L({}),O(!1))},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex-1",children:"Add Team Member"}),(0,a.jsx)("button",{onClick:()=>{O(!1),L({})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex-1",children:"Cancel"})]})]}),"dashboard"===D&&(0,a.jsx)("div",{className:"space-y-6",children:e.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-800 text-sm md:text-base",children:"Total Members"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-blue-900",children:el().total})]}),(0,a.jsxs)("div",{className:"bg-green-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800 text-sm md:text-base",children:"Completed"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-green-900",children:el().completed})]}),(0,a.jsxs)("div",{className:"bg-yellow-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-800 text-sm md:text-base",children:"In Progress"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-yellow-900",children:el().inProgress})]}),(0,a.jsxs)("div",{className:"bg-red-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-800 text-sm md:text-base",children:"Not Started"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-red-900",children:el().notStarted})]}),(0,a.jsxs)("div",{className:"bg-orange-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-orange-800 text-sm md:text-base",children:"Overdue"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-orange-900",children:el().overdue})]})]}),ed().length>0&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-3",children:"\uD83D\uDEA8 Urgent Attention Needed"}),(0,a.jsx)("div",{className:"space-y-2",children:ed().slice(0,3).map(e=>{let{member:t,daysOverdue:s,remainingTasks:r}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-red-800",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-red-600",children:[s," days overdue ‚Ä¢ ",r," tasks remaining"]})]}),(0,a.jsx)("button",{onClick:()=>{},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"View Details"})]},t.id)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"\uD83D\uDCCB Recent Additions"}),(0,a.jsx)("div",{className:"space-y-2",children:e.sort((e,t)=>new Date(t.dateAdded)-new Date(e.dateAdded)).slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.position})]}),(0,a.jsx)("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-800 text-xs",children:"View"})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"\uD83C\uDFAF Almost Complete"}),(0,a.jsx)("div",{className:"space-y-2",children:e.filter(e=>{let t=ea(e);return t.percentage>=80&&t.percentage<100}).slice(0,3).map(e=>{let t=ea(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-green-600",children:[t.percentage,"% complete"]})]}),(0,a.jsx)("button",{onClick:()=>{},className:"text-green-600 hover:text-green-800 text-xs",children:"Complete"})]},e.id)})})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"\uD83D\uDCC5 Starting Soon"}),(0,a.jsx)("div",{className:"space-y-2",children:e.filter(e=>{let t=Math.floor((new Date(e.startDate)-new Date)/864e5);return t>=0&&t<=7}).sort((e,t)=>new Date(e.startDate)-new Date(t.startDate)).slice(0,3).map(e=>{let t=Math.floor((new Date(e.startDate)-new Date)/864e5);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-blue-600",children:0===t?"Starting today":`Starts in ${t} days`})]}),(0,a.jsx)("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-800 text-xs",children:"Prepare"})]},e.id)})})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC4B"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Welcome to Chili's Onboarding Tracker"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Start by adding your first team member to begin tracking their onboarding progress."}),(0,a.jsx)("button",{onClick:()=>O(!0),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg text-lg font-medium",children:"Add Your First Team Member"})]})}),"detail"===D&&(0,a.jsxs)(a.Fragment,{children:[e.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-800 text-sm md:text-base",children:"Total Members"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-blue-900",children:e.length})]}),(0,a.jsxs)("div",{className:"bg-green-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800 text-sm md:text-base",children:"Completed"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-green-900",children:e.filter(e=>100===ea(e).percentage).length})]}),(0,a.jsxs)("div",{className:"bg-yellow-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-800 text-sm md:text-base",children:"In Progress"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-yellow-900",children:e.filter(e=>{let t=ea(e);return t.percentage>0&&t.percentage<100}).length})]}),(0,a.jsxs)("div",{className:"bg-red-100 p-3 md:p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-800 text-sm md:text-base",children:"Not Started"}),(0,a.jsx)("p",{className:"text-xl md:text-2xl font-bold text-red-900",children:e.filter(e=>0===ea(e).percentage).length})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:e.map(e=>{let t=ea(e),s=er(e);return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 md:p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsx)(g.A,{className:"text-gray-600 mt-1",size:20}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[P===e.id?(0,a.jsx)("input",{type:"text",value:e.name,onChange:t=>et(e.id,"name",t.target.value),className:"border border-gray-300 rounded px-2 py-1 font-semibold w-full"}):(0,a.jsx)("h3",{className:"text-lg font-semibold break-words",children:e.name}),(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)(p.A,{size:14}),P===e.id?(0,a.jsx)("input",{type:"date",value:e.startDate,onChange:t=>et(e.id,"startDate",t.target.value),className:"border border-gray-300 rounded px-1 py-0.5 text-sm"}):(0,a.jsxs)("span",{className:"break-words",children:[e.startDate," at ",e.startTime]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)(h.A,{size:14}),P===e.id?(0,a.jsx)("input",{type:"tel",value:e.phone,onChange:t=>et(e.id,"phone",t.target.value),className:"border border-gray-300 rounded px-1 py-0.5 text-sm"}):(0,a.jsx)("span",{className:"break-words",children:e.phone})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 break-words",children:["Position: ",e.position," | TM ID: ",e.tmId||"Pending"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[P===e.id?(0,a.jsx)("button",{onClick:()=>I(null),className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:(0,a.jsx)(c.A,{size:18})}):(0,a.jsx)("button",{onClick:()=>I(e.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",children:(0,a.jsx)(u.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>ei(e),className:"text-green-600 hover:text-green-800 p-1",title:"Send email report",children:(0,a.jsx)(b.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>eo(e),className:"text-gray-600 hover:text-gray-800 p-1",title:"Print report",children:(0,a.jsx)(y.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>es(e.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:(0,a.jsx)(f.A,{size:18})})]})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[t.completed,"/",t.total," (",t.percentage,"%)"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${t.percentage}%`}})})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-80 md:max-h-96 overflow-y-auto",children:X.map(t=>(0,a.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded hover:bg-gray-50",children:[(0,a.jsx)("button",{onClick:()=>ee(e.id,t.id,!e.checklist[t.id]),className:"mt-0.5 flex-shrink-0 p-1",children:e.checklist[t.id]?(0,a.jsx)(j.A,{className:"text-green-600",size:18}):(0,a.jsx)(N.A,{className:"text-gray-400",size:18})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-1",children:(0,a.jsxs)("span",{className:`text-xs px-2 py-1 rounded-full border ${ec[t.step]}`,children:["Step ",t.step]})}),(0,a.jsx)("p",{className:`text-sm ${e.checklist[t.id]?"text-gray-500 line-through":""} break-words`,children:t.text})]})]},t.id))}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:s.length>0?`${s.length} tasks remaining`:"\uD83C\uDF89 All tasks completed!"}),100===t.percentage&&(0,a.jsx)("button",{onClick:()=>es(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm",children:"Complete & Archive"})]})]},e.id)})}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(g.A,{className:"mx-auto text-gray-400 mb-4",size:48}),(0,a.jsx)("p",{className:"text-gray-600",children:'No team members added yet. Click "Add Member" to get started.'})]})]}),"multi-restaurant"===D&&(0,a.jsx)(C,{})]})})}):(0,a.jsx)(T,{isOpen:H,onLogin:e=>{U(!0),J(e),W({username:e.username,access:e.access}),V(!1)},onClose:()=>V(!1)})},O=()=>(0,a.jsx)(v.f,{children:(0,a.jsx)($,{})});function P(){return(0,a.jsx)(O,{})}},2936:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1921)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[197,636,593,792],()=>t(2936)),_N_E=e.O()}]);