(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{778:(t,r,e)=>{"use strict";e.d(r,{f:()=>l,p:()=>o});var a=e(7876),s=e(4232),n=e(5364);let u=(0,s.createContext)(),o=()=>{let t=(0,s.useContext)(u);if(!t)throw Error("useRestaurant must be used within a RestaurantProvider");return t},l=t=>{let{children:r}=t,[e,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[f,h]=(0,s.useState)(null),_=n.env.REACT_APP_API_URL||"/api",w=(0,s.useCallback)(async()=>{try{d(!0);let t=await fetch(`${_}/restaurants`);if(t.ok){let r=await t.json();o(r),r.length>0&&!l&&i(r[0])}else h("Failed to load restaurants")}catch(t){console.error("Error loading restaurants:",t),h("Failed to load restaurants")}finally{d(!1)}},[_,l]),E=async t=>{try{let r=await fetch(`${_}/restaurants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let t=await r.json();return o(r=>[...r,t]),{success:!0,restaurant:t}}{let t=await r.json();return{success:!1,error:t.error}}}catch(t){return console.error("Error creating restaurant:",t),{success:!1,error:"Failed to create restaurant"}}},p=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let r=t?`${_}/restaurant-stats?restaurant_id=${t}`:`${_}/restaurant-stats`,e=await fetch(r);if(e.ok)return await e.json();throw Error("Failed to load restaurant stats")}catch(t){return console.error("Error loading restaurant stats:",t),null}};return(0,s.useEffect)(()=>{w()},[w]),(0,a.jsx)(u.Provider,{value:{restaurants:e,selectedRestaurant:l,setSelectedRestaurant:i,loading:c,error:f,loadRestaurants:w,createRestaurant:E,getRestaurantStats:p},children:r})}},2149:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>n});var a=e(7876);e(7790);var s=e(778);let n=function(t){let{Component:r,pageProps:e}=t;return(0,a.jsx)(s.f,{children:(0,a.jsx)(r,{...e})})}},6556:(t,r,e)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return e(2149)}])},7790:()=>{}},t=>{var r=r=>t(t.s=r);t.O(0,[593,792],()=>(r(6556),r(8253))),_N_E=t.O()}]);